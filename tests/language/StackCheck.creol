class Test
begin
  var depth : Int := 0
  var max : Int := 3

  op run == test(;)
  op test ==
    var temp: Int; depth := depth + 1; temp := depth;
    if depth <= max then test(;) end;
    await depth = temp; depth := depth - 1
end
